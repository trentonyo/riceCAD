import{BUFFER_GPUDYNAMIC as e,BUFFER_STREAM as f,BUFFER_DYNAMIC as t,BUFFER_STATIC as r}from"../constants.js";class s{constructor(){this.bufferId=null}destroy(e){this.bufferId&&(e.gl.deleteBuffer(this.bufferId),this.bufferId=null)}get initialized(){return!!this.bufferId}loseContext(){this.bufferId=null}unlock(s,u,i,b){const l=s.gl;let a;switch(this.bufferId||(this.bufferId=l.createBuffer()),u){case r:a=l.STATIC_DRAW;break;case t:a=l.DYNAMIC_DRAW;break;case f:a=l.STREAM_DRAW;break;case e:a=s.webgl2?l.DYNAMIC_COPY:l.STATIC_DRAW}l.bindBuffer(i,this.bufferId),l.bufferData(i,b,a)}}export{s as WebglBuffer};
