import{isDefined as t}from"./core.js";const e={delimiter:"/",join:function(){const i=arguments.length;let n=arguments[0];for(let l=0;l<i-1;++l){const i=arguments[l],r=arguments[l+1];if(!t(i)||!t(r))throw new Error("undefined argument to pc.path.join");r[0]!==e.delimiter?i&&r&&i[i.length-1]!==e.delimiter&&r[0]!==e.delimiter?n+=e.delimiter+r:n+=r:n=r}return n},normalize:function(t){const i=t.startsWith(e.delimiter),n=t.endsWith(e.delimiter),l=t.split("/");let r="",o=[];for(let t=0;t<l.length;t++)""!==l[t]&&"."!==l[t]&&(".."===l[t]&&o.length>0?o=o.slice(0,o.length-2):(t>0&&o.push(e.delimiter),o.push(l[t])));return r=o.join(""),i||r[0]!==e.delimiter||(r=r.slice(1)),n&&r[r.length-1]!==e.delimiter&&(r+=e.delimiter),r},split:function(t){const i=t.split(e.delimiter),n=i.slice(i.length-1)[0];return[i.slice(0,i.length-1).join(e.delimiter),n]},getBasename:function(t){return e.split(t)[1]},getDirectory:function(t){const i=t.split(e.delimiter);return i.slice(0,i.length-1).join(e.delimiter)},getExtension:function(t){const e=t.split("?")[0].split(".").pop();return e!==t?"."+e:""},isRelativePath:function(t){return"/"!==t.charAt(0)&&null===t.match(/:\/\//)},extractPath:function(t){let i="";const n=t.split("/");let l=0;if(n.length>1)if(e.isRelativePath(t))if("."===n[0])for(l=0;l<n.length-1;++l)i+=0===l?n[l]:"/"+n[l];else if(".."===n[0])for(l=0;l<n.length-1;++l)i+=0===l?n[l]:"/"+n[l];else for(i=".",l=0;l<n.length-1;++l)i+="/"+n[l];else for(l=0;l<n.length-1;++l)i+=0===l?n[l]:"/"+n[l];return i}};export{e as path};
