class t{constructor(t){this.items=[],this.length=0,this.loopIndex=-1,this._sortBy=t.sortBy,this._sortHandler=this._doSort.bind(this)}_binarySearch(t){let s=0,i=this.items.length-1;const o=t[this._sortBy];let e,h;for(;s<=i;)e=Math.floor((s+i)/2),h=this.items[e][this._sortBy],h<=o?s=e+1:h>o&&(i=e-1);return s}_doSort(t,s){const i=this._sortBy;return t[i]-s[i]}insert(t){const s=this._binarySearch(t);this.items.splice(s,0,t),this.length++,this.loopIndex>=s&&this.loopIndex++}append(t){this.items.push(t),this.length++}remove(t){const s=this.items.indexOf(t);s<0||(this.items.splice(s,1),this.length--,this.loopIndex>=s&&this.loopIndex--)}sort(){const t=this.loopIndex>=0?this.items[this.loopIndex]:null;this.items.sort(this._sortHandler),null!==t&&(this.loopIndex=this.items.indexOf(t))}}export{t as SortedLoopArray};
