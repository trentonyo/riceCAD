import{Render as e}from"../../scene/render.js";function r(e){const r=this;if(!r.resource)return;const s=e.resource,t=s.renders&&s.renders[r.data.renderIndex];t&&(r.resource.meshes=t.resource.meshes)}function s(e){const s=this;s.registry.off("load:"+e.id,r,s),s.registry.on("load:"+e.id,r,s),s.registry.off("remove:"+e.id,t,s),s.registry.once("remove:"+e.id,t,s),e.resource?r.call(s,e):s.registry.load(e)}function t(e){const s=this;s.registry.off("load:"+e.id,r,s),s.resource&&s.resource.destroy()}class o{constructor(e){this.handlerType="render",this._registry=e.assets}load(e,r,s){}open(r,s){return new e}patch(e,r){if(!e.data.containerAsset)return;const t=r.get(e.data.containerAsset);t?s.call(e,t):r.once("add:"+e.data.containerAsset,s,e)}}export{o as RenderHandler};
