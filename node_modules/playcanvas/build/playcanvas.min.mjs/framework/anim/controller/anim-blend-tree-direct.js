import{AnimBlendTree as e}from"./anim-blend-tree.js";class t extends e{calculateWeights(){if(this.updateParameterValues())return;let e=0,t=0;for(let i=0;i<this._children.length;i++)if(e+=Math.max(this._parameterValues[i],0),this._syncAnimations){const e=this._children[i];t+=e.animTrack.duration/e.absoluteSpeed*e.weight}for(let i=0;i<this._children.length;i++){const a=this._children[i],s=Math.max(this._parameterValues[i],0);e?(a.weight=s/e,this._syncAnimations&&(a.weightedSpeed=a.animTrack.duration/a.absoluteSpeed/t)):(a.weight=0,this._syncAnimations&&(a.weightedSpeed=0))}}}export{t as AnimBlendTreeDirect};
