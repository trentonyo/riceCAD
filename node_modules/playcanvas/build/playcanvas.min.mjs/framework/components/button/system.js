import{Component as e}from"../component.js";import{ComponentSystem as t}from"../system.js";import{ButtonComponent as o}from"./component.js";import{ButtonComponentData as s}from"./data.js";const n=["enabled","active",{name:"imageEntity",type:"entity"},{name:"hitPadding",type:"vec4"},"transitionMode",{name:"hoverTint",type:"rgba"},{name:"pressedTint",type:"rgba"},{name:"inactiveTint",type:"rgba"},"fadeDuration","hoverSpriteAsset","hoverSpriteFrame","pressedSpriteAsset","pressedSpriteFrame","inactiveSpriteAsset","inactiveSpriteFrame"];class i extends t{constructor(e){super(e),this.id="button",this.ComponentType=o,this.DataType=s,this.schema=n,this.on("beforeremove",this._onRemoveComponent,this),this.app.systems.on("update",this.onUpdate,this)}initializeComponentData(e,t,o){super.initializeComponentData(e,t,n)}onUpdate(e){const t=this.store;for(const e in t){const o=t[e].entity,s=o.button;s.enabled&&o.enabled&&s.onUpdate()}}_onRemoveComponent(e,t){t.onRemove()}destroy(){super.destroy(),this.app.systems.off("update",this.onUpdate,this)}}e._buildAccessors(o.prototype,n);export{i as ButtonComponentSystem};
