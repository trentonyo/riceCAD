import{Component as e}from"../component.js";import{ComponentSystem as t}from"../system.js";import{ScrollViewComponent as o}from"./component.js";import{ScrollViewComponentData as n}from"./data.js";import{Vec2 as i}from"../../../core/math/vec2.js";const s=[{name:"enabled",type:"boolean"},{name:"horizontal",type:"boolean"},{name:"vertical",type:"boolean"},{name:"scrollMode",type:"number"},{name:"bounceAmount",type:"number"},{name:"friction",type:"number"},{name:"dragThreshold",type:"number"},{name:"useMouseWheel",type:"boolean"},{name:"mouseWheelSensitivity",type:"vec2"},{name:"horizontalScrollbarVisibility",type:"number"},{name:"verticalScrollbarVisibility",type:"number"},{name:"viewportEntity",type:"entity"},{name:"contentEntity",type:"entity"},{name:"horizontalScrollbarEntity",type:"entity"},{name:"verticalScrollbarEntity",type:"entity"}];class a extends t{constructor(e){super(e),this.id="scrollview",this.ComponentType=o,this.DataType=n,this.schema=s,this.on("beforeremove",this._onRemoveComponent,this),this.app.systems.on("update",this.onUpdate,this)}initializeComponentData(e,t,o){void 0===t.dragThreshold&&(t.dragThreshold=10),void 0===t.useMouseWheel&&(t.useMouseWheel=!0),void 0===t.mouseWheelSensitivity&&(t.mouseWheelSensitivity=new i(1,1)),super.initializeComponentData(e,t,s)}onUpdate(e){const t=this.store;for(const e in t){const o=t[e].entity,n=o.scrollview;n.enabled&&o.enabled&&n.onUpdate()}}_onRemoveComponent(e,t){t.onRemove()}destroy(){super.destroy(),this.app.systems.off("update",this.onUpdate,this)}}e._buildAccessors(o.prototype,s);export{a as ScrollViewComponentSystem};
