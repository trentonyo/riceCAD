import{Vec2 as t}from"../../core/math/vec2.js";import{random as o}from"../../core/math/random.js";import{LIGHTTYPE_DIRECTIONAL as e}from"../../scene/constants.js";import{BakeLight as i}from"./bake-light.js";const r=new t;class s extends i{get numVirtualLights(){return this.light.type===e?this.light.bakeNumSamples:1}prepareVirtualLight(t,e){const i=this.light;if(i._node.setLocalRotation(this.rotation),t>0){const s=i.bakeArea;o.circlePointDeterministic(r,t,e),r.mulScalar(.5*s),i._node.rotateLocal(r.x,0,r.y)}i._node.getWorldTransform();const s=this.scene.gammaCorrection?2.2:1,n=Math.pow(this.intensity,s);i.intensity=Math.pow(n/e,1/s)}}export{s as BakeLightSimple};
