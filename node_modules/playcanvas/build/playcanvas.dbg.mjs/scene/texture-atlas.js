/**
 * @license
 * PlayCanvas Engine v1.58.0 revision 6672f604c (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { EventHandler } from '../core/event-handler.js';

class TextureAtlas extends EventHandler {
  constructor() {
    super();

    this._texture = null;
    this._frames = null;
  }

  set texture(value) {
    this._texture = value;
    this.fire('set:texture', value);
  }
  get texture() {
    return this._texture;
  }

  set frames(value) {
    this._frames = value;
    this.fire('set:frames', value);
  }
  get frames() {
    return this._frames;
  }

  setFrame(key, data) {
    let frame = this._frames[key];
    if (!frame) {
      frame = {
        rect: data.rect.clone(),
        pivot: data.pivot.clone(),
        border: data.border.clone()
      };
      this._frames[key] = frame;
    } else {
      frame.rect.copy(data.rect);
      frame.pivot.copy(data.pivot);
      frame.border.copy(data.border);
    }
    this.fire('set:frame', key.toString(), frame);
  }

  removeFrame(key) {
    const frame = this._frames[key];
    if (frame) {
      delete this._frames[key];
      this.fire('remove:frame', key.toString(), frame);
    }
  }

  destroy() {
    if (this._texture) {
      this._texture.destroy();
    }
  }
}

export { TextureAtlas };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dHVyZS1hdGxhcy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NjZW5lL3RleHR1cmUtYXRsYXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vY29yZS9ldmVudC1oYW5kbGVyLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvbWF0aC92ZWMyLmpzJykuVmVjMn0gVmVjMiAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2NvcmUvbWF0aC92ZWM0LmpzJykuVmVjNH0gVmVjNCAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3RleHR1cmUuanMnKS5UZXh0dXJlfSBUZXh0dXJlICovXG5cbi8qKlxuICogQSBUZXh0dXJlQXRsYXMgY29udGFpbnMgYSBudW1iZXIgb2YgZnJhbWVzIGZyb20gYSB0ZXh0dXJlLiBFYWNoIGZyYW1lIGRlZmluZXMgYSByZWdpb24gaW4gYVxuICogdGV4dHVyZS4gVGhlIFRleHR1cmVBdGxhcyBpcyByZWZlcmVuY2VkIGJ5IHtAbGluayBTcHJpdGV9cy5cbiAqXG4gKiBAYXVnbWVudHMgRXZlbnRIYW5kbGVyXG4gKi9cbmNsYXNzIFRleHR1cmVBdGxhcyBleHRlbmRzIEV2ZW50SGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IFRleHR1cmVBdGxhcyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGF0bGFzID0gbmV3IHBjLlRleHR1cmVBdGxhcygpO1xuICAgICAqIGF0bGFzLmZyYW1lcyA9IHtcbiAgICAgKiAgICAgJzAnOiB7XG4gICAgICogICAgICAgICAvLyByZWN0IGhhcyB1LCB2LCB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVsc1xuICAgICAqICAgICAgICAgcmVjdDogbmV3IHBjLlZlYzQoMCwgMCwgMjU2LCAyNTYpLFxuICAgICAqICAgICAgICAgLy8gcGl2b3QgaGFzIHgsIHkgdmFsdWVzIGJldHdlZW4gMC0xIHdoaWNoIGRlZmluZSB0aGUgcG9pbnRcbiAgICAgKiAgICAgICAgIC8vIHdpdGhpbiB0aGUgZnJhbWUgYXJvdW5kIHdoaWNoIHJvdGF0aW9uIGFuZCBzY2FsZSBpcyBjYWxjdWxhdGVkXG4gICAgICogICAgICAgICBwaXZvdDogbmV3IHBjLlZlYzIoMC41LCAwLjUpLFxuICAgICAqICAgICAgICAgLy8gYm9yZGVyIGhhcyBsZWZ0LCBib3R0b20sIHJpZ2h0IGFuZCB0b3AgaW4gcGl4ZWxzIGRlZmluaW5nIHJlZ2lvbnMgZm9yIDktc2xpY2luZ1xuICAgICAqICAgICAgICAgYm9yZGVyOiBuZXcgcGMuVmVjNCg1LCA1LCA1LCA1KVxuICAgICAqICAgICB9LFxuICAgICAqICAgICAnMSc6IHtcbiAgICAgKiAgICAgICAgIHJlY3Q6IG5ldyBwYy5WZWM0KDI1NiwgMCwgMjU2LCAyNTYpLFxuICAgICAqICAgICAgICAgcGl2b3Q6IG5ldyBwYy5WZWMyKDAuNSwgMC41KSxcbiAgICAgKiAgICAgICAgIGJvcmRlcjogbmV3IHBjLlZlYzQoNSwgNSwgNSwgNSlcbiAgICAgKiAgICAgfVxuICAgICAqIH07XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtUZXh0dXJlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGJ5IHRoZSBhdGxhcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtUZXh0dXJlfVxuICAgICAqL1xuICAgIHNldCB0ZXh0dXJlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5maXJlKCdzZXQ6dGV4dHVyZScsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXQgdGV4dHVyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udGFpbnMgZnJhbWVzIHdoaWNoIGRlZmluZSBwb3J0aW9ucyBvZiB0aGUgdGV4dHVyZSBhdGxhcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgc2V0IGZyYW1lcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5maXJlKCdzZXQ6ZnJhbWVzJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGdldCBmcmFtZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IGZyYW1lIGluIHRoZSB0ZXh0dXJlIGF0bGFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gVGhlIHByb3BlcnRpZXMgb2YgdGhlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7VmVjNH0gZGF0YS5yZWN0IC0gVGhlIHUsIHYsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllcyBvZiB0aGUgZnJhbWUgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7VmVjMn0gZGF0YS5waXZvdCAtIFRoZSBwaXZvdCBvZiB0aGUgZnJhbWUgLSB2YWx1ZXMgYXJlIGJldHdlZW4gMC0xLlxuICAgICAqIEBwYXJhbSB7VmVjNH0gZGF0YS5ib3JkZXIgLSBUaGUgYm9yZGVyIG9mIHRoZSBmcmFtZSBmb3IgOS1zbGljaW5nLiBWYWx1ZXMgYXJlIG9yZGVyZWQgYXNcbiAgICAgKiBmb2xsb3dzOiBsZWZ0LCBib3R0b20sIHJpZ2h0LCB0b3AgYm9yZGVyIGluIHBpeGVscy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGF0bGFzLnNldEZyYW1lKCcxJywge1xuICAgICAqICAgICByZWN0OiBuZXcgcGMuVmVjNCgwLCAwLCAxMjgsIDEyOCksXG4gICAgICogICAgIHBpdm90OiBuZXcgcGMuVmVjMigwLjUsIDAuNSksXG4gICAgICogICAgIGJvcmRlcjogbmV3IHBjLlZlYzQoNSwgNSwgNSwgNSlcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXRGcmFtZShrZXksIGRhdGEpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5fZnJhbWVzW2tleV07XG4gICAgICAgIGlmICghZnJhbWUpIHtcbiAgICAgICAgICAgIGZyYW1lID0ge1xuICAgICAgICAgICAgICAgIHJlY3Q6IGRhdGEucmVjdC5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHBpdm90OiBkYXRhLnBpdm90LmNsb25lKCksXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBkYXRhLmJvcmRlci5jbG9uZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fZnJhbWVzW2tleV0gPSBmcmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyYW1lLnJlY3QuY29weShkYXRhLnJlY3QpO1xuICAgICAgICAgICAgZnJhbWUucGl2b3QuY29weShkYXRhLnBpdm90KTtcbiAgICAgICAgICAgIGZyYW1lLmJvcmRlci5jb3B5KGRhdGEuYm9yZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlyZSgnc2V0OmZyYW1lJywga2V5LnRvU3RyaW5nKCksIGZyYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZnJhbWUgZnJvbSB0aGUgdGV4dHVyZSBhdGxhcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBmcmFtZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGF0bGFzLnJlbW92ZUZyYW1lKCcxJyk7XG4gICAgICovXG4gICAgcmVtb3ZlRnJhbWUoa2V5KSB7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZnJhbWVzW2tleV07XG4gICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ZyYW1lc1trZXldO1xuICAgICAgICAgICAgdGhpcy5maXJlKCdyZW1vdmU6ZnJhbWUnLCBrZXkudG9TdHJpbmcoKSwgZnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnJlZSB1cCB0aGUgdW5kZXJseWluZyB0ZXh0dXJlIG93bmVkIGJ5IHRoZSBhdGxhcy5cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IFRleHR1cmVBdGxhcyB9O1xuIl0sIm5hbWVzIjpbIlRleHR1cmVBdGxhcyIsIkV2ZW50SGFuZGxlciIsImNvbnN0cnVjdG9yIiwiX3RleHR1cmUiLCJfZnJhbWVzIiwidGV4dHVyZSIsInZhbHVlIiwiZmlyZSIsImZyYW1lcyIsInNldEZyYW1lIiwia2V5IiwiZGF0YSIsImZyYW1lIiwicmVjdCIsImNsb25lIiwicGl2b3QiLCJib3JkZXIiLCJjb3B5IiwidG9TdHJpbmciLCJyZW1vdmVGcmFtZSIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFZQSxNQUFNQSxZQUFZLFNBQVNDLFlBQVksQ0FBQztBQXVCcENDLEVBQUFBLFdBQVcsR0FBRztBQUNWLElBQUEsS0FBSyxFQUFFLENBQUE7O0lBTVAsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSSxDQUFBO0lBS3BCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLElBQUksQ0FBQTtBQUN2QixHQUFBOztFQU9BLElBQUlD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
