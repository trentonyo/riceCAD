/**
 * @license
 * PlayCanvas Engine v1.58.0 revision 6672f604c (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { type } from '../../core/core.js';
import { ACTION_KEYBOARD, ACTION_MOUSE, ACTION_GAMEPAD, PAD_1, PAD_L_STICK_Y, PAD_L_STICK_X, PAD_R_STICK_Y, PAD_R_STICK_X, EVENT_MOUSEMOVE } from './constants.js';
import { Keyboard } from './keyboard.js';
import { Mouse } from './mouse.js';

class Controller {
  constructor(element, options = {}) {
    this._keyboard = options.keyboard || null;
    this._mouse = options.mouse || null;
    this._gamepads = options.gamepads || null;
    this._element = null;
    this._actions = {};
    this._axes = {};
    this._axesValues = {};
    if (element) {
      this.attach(element);
    }
  }

  attach(element) {
    this._element = element;
    if (this._keyboard) {
      this._keyboard.attach(element);
    }
    if (this._mouse) {
      this._mouse.attach(element);
    }
  }

  detach() {
    if (this._keyboard) {
      this._keyboard.detach();
    }
    if (this._mouse) {
      this._mouse.detach();
    }
    this._element = null;
  }

  disableContextMenu() {
    if (!this._mouse) {
      this._enableMouse();
    }
    this._mouse.disableContextMenu();
  }

  enableContextMenu() {
    if (!this._mouse) {
      this._enableMouse();
    }
    this._mouse.enableContextMenu();
  }

  update(dt) {
    if (this._keyboard) {
      this._keyboard.update();
    }
    if (this._mouse) {
      this._mouse.update();
    }
    if (this._gamepads) {
      this._gamepads.update();
    }

    this._axesValues = {};
    for (const key in this._axes) {
      this._axesValues[key] = [];
    }
  }

  appendAction(action_name, action) {
    this._actions[action_name] = this._actions[action_name] || [];
    this._actions[action_name].push(action);
  }

  registerKeys(action, keys) {
    if (!this._keyboard) {
      this._enableKeyboard();
    }
    if (this._actions[action]) {
      throw new Error(`Action: ${action} already registered`);
    }
    if (keys === undefined) {
      throw new Error('Invalid button');
    }

    if (!keys.length) {
      keys = [keys];
    }

    this.appendAction(action, {
      type: ACTION_KEYBOARD,
      keys
    });
  }

  registerMouse(action, button) {
    if (!this._mouse) {
      this._enableMouse();
    }
    if (button === undefined) {
      throw new Error('Invalid button');
    }

    this.appendAction(action, {
      type: ACTION_MOUSE,
      button
    });
  }

  registerPadButton(action, pad, button) {
    if (button === undefined) {
      throw new Error('Invalid button');
    }
    this.appendAction(action, {
      type: ACTION_GAMEPAD,
      button,
      pad
    });
  }

  registerAxis(options) {
    const name = options.name;
    if (!this._axes[name]) {
      this._axes[name] = [];
    }
    const i = this._axes[name].push(name);
    options = options || {};
    options.pad = options.pad || PAD_1;
    const bind = function bind(controller, source, value, key) {
      switch (source) {
        case 'mousex':
          controller._mouse.on(EVENT_MOUSEMOVE, function (e) {
            controller._axesValues[name][i] = e.dx / 10;
          });
          break;
        case 'mousey':
          controller._mouse.on(EVENT_MOUSEMOVE, function (e) {
            controller._axesValues[name][i] = e.dy / 10;
          });
          break;
        case 'key':
          controller._axes[name].push(function () {
            return controller._keyboard.isPressed(key) ? value : 0;
          });
          break;
        case 'padrx':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_R_STICK_X);
          });
          break;
        case 'padry':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_R_STICK_Y);
          });
          break;
        case 'padlx':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_L_STICK_X);
          });
          break;
        case 'padly':
          controller._axes[name].push(function () {
            return controller._gamepads.getAxis(options.pad, PAD_L_STICK_Y);
          });
          break;
        default:
          throw new Error('Unknown axis');
      }
    };
    bind(this, options.positive, 1, options.positiveKey);
    if (options.negativeKey || options.negative !== options.positive) {
      bind(this, options.negative, -1, options.negativeKey);
    }
  }

  isPressed(actionName) {
    if (!this._actions[actionName]) {
      return false;
    }
    const length = this._actions[actionName].length;
    for (let index = 0; index < length; ++index) {
      const action = this._actions[actionName][index];
      switch (action.type) {
        case ACTION_KEYBOARD:
          if (this._keyboard) {
            const len = action.keys.length;
            for (let i = 0; i < len; i++) {
              if (this._keyboard.isPressed(action.keys[i])) {
                return true;
              }
            }
          }
          break;
        case ACTION_MOUSE:
          if (this._mouse && this._mouse.isPressed(action.button)) {
            return true;
          }
          break;
        case ACTION_GAMEPAD:
          if (this._gamepads && this._gamepads.isPressed(action.pad, action.button)) {
            return true;
          }
          break;
      }
    }
    return false;
  }

  wasPressed(actionName) {
    if (!this._actions[actionName]) {
      return false;
    }
    const length = this._actions[actionName].length;
    for (let index = 0; index < length; ++index) {
      const action = this._actions[actionName][index];
      switch (action.type) {
        case ACTION_KEYBOARD:
          if (this._keyboard) {
            const len = action.keys.length;
            for (let i = 0; i < len; i++) {
              if (this._keyboard.wasPressed(action.keys[i])) {
                return true;
              }
            }
          }
          break;
        case ACTION_MOUSE:
          if (this._mouse && this._mouse.wasPressed(action.button)) {
            return true;
          }
          break;
        case ACTION_GAMEPAD:
          if (this._gamepads && this._gamepads.wasPressed(action.pad, action.button)) {
            return true;
          }
          break;
      }
    }
    return false;
  }
  getAxis(name) {
    let value = 0;
    if (this._axes[name]) {
      const len = this._axes[name].length;
      for (let i = 0; i < len; i++) {
        if (type(this._axes[name][i]) === 'function') {
          const v = this._axes[name][i]();
          if (Math.abs(v) > Math.abs(value)) {
            value = v;
          }
        } else if (this._axesValues[name]) {
          if (Math.abs(this._axesValues[name][i]) > Math.abs(value)) {
            value = this._axesValues[name][i];
          }
        }
      }
    }
    return value;
  }
  _enableMouse() {
    this._mouse = new Mouse();
    if (!this._element) {
      throw new Error('Controller must be attached to an Element');
    }
    this._mouse.attach(this._element);
  }
  _enableKeyboard() {
    this._keyboard = new Keyboard();
    if (!this._element) {
      throw new Error('Controller must be attached to an Element');
    }
    this._keyboard.attach(this._element);
  }
}

export { Controller };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2lucHV0L2NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSB9IGZyb20gJy4uLy4uL2NvcmUvY29yZS5qcyc7XG5cbmltcG9ydCB7XG4gICAgQUNUSU9OX0dBTUVQQUQsIEFDVElPTl9LRVlCT0FSRCwgQUNUSU9OX01PVVNFLFxuICAgIEVWRU5UX01PVVNFTU9WRSxcbiAgICBQQURfMSxcbiAgICBQQURfTF9TVElDS19YLCBQQURfTF9TVElDS19ZLCBQQURfUl9TVElDS19YLCBQQURfUl9TVElDS19ZXG59IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IHsgS2V5Ym9hcmQgfSBmcm9tICcuL2tleWJvYXJkLmpzJztcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSAnLi9tb3VzZS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2dhbWUtcGFkcy5qcycpLkdhbWVQYWRzfSBHYW1lUGFkcyAqL1xuXG4vKipcbiAqIEEgZ2VuZXJhbCBpbnB1dCBoYW5kbGVyIHdoaWNoIGhhbmRsZXMgYm90aCBtb3VzZSBhbmQga2V5Ym9hcmQgaW5wdXQgYXNzaWduZWQgdG8gbmFtZWQgYWN0aW9ucy5cbiAqIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgaW5wdXQgaGFuZGxlcnMgc2VwYXJhdGVseSB0byBkZWZpbmluZyBrZXlib2FyZC9tb3VzZSBjb25maWd1cmF0aW9ucy5cbiAqL1xuY2xhc3MgQ29udHJvbGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgQ29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gW2VsZW1lbnRdIC0gRWxlbWVudCB0byBhdHRhY2ggQ29udHJvbGxlciB0by5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7S2V5Ym9hcmR9IFtvcHRpb25zLmtleWJvYXJkXSAtIEEgS2V5Ym9hcmQgb2JqZWN0IHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge01vdXNlfSBbb3B0aW9ucy5tb3VzZV0gLSBBIE1vdXNlIG9iamVjdCB0byB1c2UuXG4gICAgICogQHBhcmFtIHtHYW1lUGFkc30gW29wdGlvbnMuZ2FtZXBhZHNdIC0gQSBHYW1lcGFkcyBvYmplY3QgdG8gdXNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIGMgPSBuZXcgcGMuQ29udHJvbGxlcihkb2N1bWVudCk7XG4gICAgICpcbiAgICAgKiAvLyBSZWdpc3RlciB0aGUgXCJmaXJlXCIgYWN0aW9uIGFuZCBhc3NpZ24gaXQgdG8gYm90aCB0aGUgRW50ZXIga2V5IGFuZCB0aGUgU3BhY2ViYXIuXG4gICAgICogYy5yZWdpc3RlcktleXMoXCJmaXJlXCIsIFtwYy5LRVlfRU5URVIsIHBjLktFWV9TUEFDRV0pO1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLl9rZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5fbW91c2UgPSBvcHRpb25zLm1vdXNlIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX2dhbWVwYWRzID0gb3B0aW9ucy5nYW1lcGFkcyB8fCBudWxsO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2FjdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5fYXhlcyA9IHt9O1xuICAgICAgICB0aGlzLl9heGVzVmFsdWVzID0ge307XG5cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIENvbnRyb2xsZXIgdG8gYW4gRWxlbWVudC4gVGhpcyBpcyByZXF1aXJlZCBiZWZvcmUgeW91IGNhbiBtb25pdG9yIGZvciBrZXkvbW91c2VcbiAgICAgKiBpbnB1dHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCB0byBhdHRhY2ggbW91c2UgYW5kIGtleWJvYXJkIGV2ZW50IGhhbmRsZXIgdG9vLlxuICAgICAqL1xuICAgIGF0dGFjaChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBpZiAodGhpcy5fa2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmF0dGFjaChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2UuYXR0YWNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0YWNoIENvbnRyb2xsZXIgZnJvbSBhbiBFbGVtZW50LiBUaGlzIHNob3VsZCBiZSBkb25lIGJlZm9yZSB0aGUgQ29udHJvbGxlciBpcyBkZXN0cm95ZWQuXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBpZiAodGhpcy5fa2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIHRoaXMuX2tleWJvYXJkLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2UuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUgY29udGV4dCBtZW51IHVzdWFsbHkgYWN0aXZhdGVkIHdpdGggdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBkaXNhYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU1vdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb3VzZS5kaXNhYmxlQ29udGV4dE1lbnUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGhlIGNvbnRleHQgbWVudSB1c3VhbGx5IGFjdGl2YXRlZCB3aXRoIHRoZSByaWdodCBtb3VzZSBidXR0b24uIFRoaXMgaXMgZW5hYmxlZCBieVxuICAgICAqIGRlZmF1bHQuXG4gICAgICovXG4gICAgZW5hYmxlQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU1vdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb3VzZS5lbmFibGVDb250ZXh0TWVudSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgS2V5Ym9hcmQgYW5kIE1vdXNlIGhhbmRsZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGR0IC0gVGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgZnJhbWUuXG4gICAgICovXG4gICAgdXBkYXRlKGR0KSB7XG4gICAgICAgIGlmICh0aGlzLl9rZXlib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5fa2V5Ym9hcmQudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbW91c2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2dhbWVwYWRzKSB7XG4gICAgICAgICAgICB0aGlzLl9nYW1lcGFkcy51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGF4ZXMgdmFsdWVzXG4gICAgICAgIHRoaXMuX2F4ZXNWYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5fYXhlcykge1xuICAgICAgICAgICAgdGhpcy5fYXhlc1ZhbHVlc1trZXldID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYXBwZW5kIGFuIGFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25fbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIEFuIGFjdGlvbiBvYmplY3QgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7QUNUSU9OX0tFWUJPQVJEIHwgQUNUSU9OX01PVVNFIHwgQUNUSU9OX0dBTUVQQUR9IGFjdGlvbi50eXBlIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbYWN0aW9uLmtleXNdIC0gS2V5Ym9hcmQ6IEEgbGlzdCBvZiBrZXljb2RlcyBlLmcuIGBbcGMuS0VZX0EsIHBjLktFWV9FTlRFUl1gLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWN0aW9uLmJ1dHRvbl0gLSBNb3VzZTogZS5nLiBgcGMuTU9VU0VCVVRUT05fTEVGVGAgLSBHYW1lcGFkOiBlLmcuIGBwYy5QQURfRkFDRV8xYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWN0aW9uLnBhZF0gLSBHYW1lcGFkOiBBbiBpbmRleCBvZiB0aGUgcGFkIHRvIHJlZ2lzdGVyICh1c2Uge0BsaW5rIFBBRF8xfSwgZXRjKS5cbiAgICAgKi9cbiAgICBhcHBlbmRBY3Rpb24oYWN0aW9uX25hbWUsIGFjdGlvbikge1xuICAgICAgICB0aGlzLl9hY3Rpb25zW2FjdGlvbl9uYW1lXSA9IHRoaXMuX2FjdGlvbnNbYWN0aW9uX25hbWVdIHx8IFtdO1xuICAgICAgICB0aGlzLl9hY3Rpb25zW2FjdGlvbl9uYW1lXS5wdXNoKGFjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhIGFjdGlvbiB3aGljaCBpcyBlbmFibGVkIHdoZW4gdGhlIHN1cHBsaWVkIGtleXMgYXJlIHByZXNzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBrZXlzIC0gQSBsaXN0IG9mIGtleWNvZGVzLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyS2V5cyhhY3Rpb24sIGtleXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9rZXlib2FyZCkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlS2V5Ym9hcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbjogJHthY3Rpb259IGFscmVhZHkgcmVnaXN0ZXJlZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGtleXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1dHRvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udmVydCB0byBhbiBhcnJheVxuICAgICAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlzID0gW2tleXNdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGtleXMgdG8gYWN0aW9uc1xuICAgICAgICB0aGlzLmFwcGVuZEFjdGlvbihhY3Rpb24sIHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTl9LRVlCT0FSRCxcbiAgICAgICAgICAgIGtleXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhbiBhY3Rpb24gd2hpY2ggaXMgZW5hYmxlZCB3aGVuIHRoZSBzdXBwbGllZCBtb3VzZSBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBidXR0b24gLSBUaGUgbW91c2UgYnV0dG9uLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyTW91c2UoYWN0aW9uLCBidXR0b24pIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tb3VzZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlTW91c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1dHRvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIG1vdXNlIGJ1dHRvbiB0byBhY3Rpb25zXG4gICAgICAgIHRoaXMuYXBwZW5kQWN0aW9uKGFjdGlvbiwge1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OX01PVVNFLFxuICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBvciB1cGRhdGUgYW4gYWN0aW9uIHdoaWNoIGlzIGVuYWJsZWQgd2hlbiB0aGUgZ2FtZXBhZCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWQgLSBUaGUgaW5kZXggb2YgdGhlIHBhZCB0byByZWdpc3RlciAodXNlIHtAbGluayBQQURfMX0sIGV0YykuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJ1dHRvbiAtIFRoZSBwYWQgYnV0dG9uLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUGFkQnV0dG9uKGFjdGlvbiwgcGFkLCBidXR0b24pIHtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYnV0dG9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGdhbWVwYWQgYnV0dG9uIGFuZCBwYWQgdG8gYWN0aW9uc1xuICAgICAgICB0aGlzLmFwcGVuZEFjdGlvbihhY3Rpb24sIHtcbiAgICAgICAgICAgIHR5cGU6IEFDVElPTl9HQU1FUEFELFxuICAgICAgICAgICAgYnV0dG9uLFxuICAgICAgICAgICAgcGFkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGFuIGFjdGlvbiBhZ2FpbnN0IGEgY29udHJvbGxlciBheGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5wYWRdIC0gVGhlIGluZGV4IG9mIHRoZSBnYW1lIHBhZCB0byByZWdpc3RlciBmb3IgKHVzZSB7QGxpbmsgUEFEXzF9LCBldGMpLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyQXhpcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBvcHRpb25zLm5hbWU7XG4gICAgICAgIGlmICghdGhpcy5fYXhlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5fYXhlc1tuYW1lXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLl9heGVzW25hbWVdLnB1c2gobmFtZSk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMucGFkID0gb3B0aW9ucy5wYWQgfHwgUEFEXzE7XG5cbiAgICAgICAgY29uc3QgYmluZCA9IGZ1bmN0aW9uIChjb250cm9sbGVyLCBzb3VyY2UsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW91c2V4JzpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fbW91c2Uub24oRVZFTlRfTU9VU0VNT1ZFLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fYXhlc1ZhbHVlc1tuYW1lXVtpXSA9IGUuZHggLyAxMDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNleSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuX21vdXNlLm9uKEVWRU5UX01PVVNFTU9WRSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuX2F4ZXNWYWx1ZXNbbmFtZV1baV0gPSBlLmR5IC8gMTA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdrZXknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2tleWJvYXJkLmlzUHJlc3NlZChrZXkpID8gdmFsdWUgOiAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkcngnOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9SX1NUSUNLX1gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkcnknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9SX1NUSUNLX1kpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkbHgnOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9MX1NUSUNLX1gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFkbHknOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9heGVzW25hbWVdLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuX2dhbWVwYWRzLmdldEF4aXMob3B0aW9ucy5wYWQsIFBBRF9MX1NUSUNLX1kpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGF4aXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBiaW5kKHRoaXMsIG9wdGlvbnMucG9zaXRpdmUsIDEsIG9wdGlvbnMucG9zaXRpdmVLZXkpO1xuICAgICAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZUtleSB8fCBvcHRpb25zLm5lZ2F0aXZlICE9PSBvcHRpb25zLnBvc2l0aXZlKSB7XG4gICAgICAgICAgICBiaW5kKHRoaXMsIG9wdGlvbnMubmVnYXRpdmUsIC0xLCBvcHRpb25zLm5lZ2F0aXZlS2V5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBhY3Rpb24gaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb25OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYWN0aW9uIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgaXNQcmVzc2VkKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdW2luZGV4XTtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBhY3Rpb24ua2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkLmlzUHJlc3NlZChhY3Rpb24ua2V5c1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQUNUSU9OX01PVVNFOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbW91c2UgJiYgdGhpcy5fbW91c2UuaXNQcmVzc2VkKGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9HQU1FUEFEOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2FtZXBhZHMgJiYgdGhpcy5fZ2FtZXBhZHMuaXNQcmVzc2VkKGFjdGlvbi5wYWQsIGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24gd2FzIGVuYWJsZWQgdGhpcyBzaW5jZSB0aGUgbGFzdCB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGFjdGlvbiB3YXMgZW5hYmxlZCB0aGlzIHNpbmNlIHRoZSBsYXN0IHVwZGF0ZS5cbiAgICAgKi9cbiAgICB3YXNQcmVzc2VkKGFjdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0aGlzLl9hY3Rpb25zW2FjdGlvbk5hbWVdW2luZGV4XTtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9LRVlCT0FSRDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSBhY3Rpb24ua2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2tleWJvYXJkLndhc1ByZXNzZWQoYWN0aW9uLmtleXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFDVElPTl9NT1VTRTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21vdXNlICYmIHRoaXMuX21vdXNlLndhc1ByZXNzZWQoYWN0aW9uLmJ1dHRvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQUNUSU9OX0dBTUVQQUQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9nYW1lcGFkcyAmJiB0aGlzLl9nYW1lcGFkcy53YXNQcmVzc2VkKGFjdGlvbi5wYWQsIGFjdGlvbi5idXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0QXhpcyhuYW1lKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKHRoaXMuX2F4ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX2F4ZXNbbmFtZV0ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlKHRoaXMuX2F4ZXNbbmFtZV1baV0pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLl9heGVzW25hbWVdW2ldKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh2KSA+IE1hdGguYWJzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9heGVzVmFsdWVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLl9heGVzVmFsdWVzW25hbWVdW2ldKSA+IE1hdGguYWJzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9heGVzVmFsdWVzW25hbWVdW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9lbmFibGVNb3VzZSgpIHtcbiAgICAgICAgdGhpcy5fbW91c2UgPSBuZXcgTW91c2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgbXVzdCBiZSBhdHRhY2hlZCB0byBhbiBFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW91c2UuYXR0YWNoKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIF9lbmFibGVLZXlib2FyZCgpIHtcbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoKTtcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRyb2xsZXIgbXVzdCBiZSBhdHRhY2hlZCB0byBhbiBFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fa2V5Ym9hcmQuYXR0YWNoKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQ29udHJvbGxlciB9O1xuIl0sIm5hbWVzIjpbIkNvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsImVsZW1lbnQiLCJvcHRpb25zIiwiX2tleWJvYXJkIiwia2V5Ym9hcmQiLCJfbW91c2UiLCJtb3VzZSIsIl9nYW1lcGFkcyIsImdhbWVwYWRzIiwiX2VsZW1lbnQiLCJfYWN0aW9ucyIsIl9heGVzIiwiX2F4ZXNWYWx1ZXMiLCJhdHRhY2giLCJkZXRhY2giLCJkaXNhYmxlQ29udGV4dE1lbnUiLCJfZW5hYmxlTW91c2UiLCJlbmFibGVDb250ZXh0TWVudSIsInVwZGF0ZSIsImR0Iiwia2V5IiwiYXBwZW5kQWN0aW9uIiwiYWN0aW9uX25hbWUiLCJhY3Rpb24iLCJwdXNoIiwicmVnaXN0ZXJLZXlzIiwia2V5cyIsIl9lbmFibGVLZXlib2FyZCIsIkVycm9yIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwidHlwZSIsIkFDVElPTl9LRVlCT0FSRCIsInJlZ2lzdGVyTW91c2UiLCJidXR0b24iLCJBQ1RJT05fTU9VU0UiLCJyZWdpc3RlclBhZEJ1dHRvbiIsInBhZCIsIkFDVElPTl9HQU1FUEFEIiwicmVnaXN0ZXJBeGlzIiwibmFtZSIsImkiLCJQQURfMSIsImJpbmQiLCJjb250cm9sbGVyIiwic291cmNlIiwidmFsdWUiLCJvbiIsIkVWRU5UX01PVVNFTU9WRSIsImUiLCJkeCIsImR5IiwiaXNQcmVzc2VkIiwiZ2V0QXhpcyIsIlBBRF9SX1NUSUNLX1giLCJQQURfUl9TVElDS19ZIiwiUEFEX0xfU1RJQ0tfWCIsIlBBRF9MX1NUSUNLX1kiLCJwb3NpdGl2ZSIsInBvc2l0aXZlS2V5IiwibmVnYXRpdmVLZXkiLCJuZWdhdGl2ZSIsImFjdGlvbk5hbWUiLCJpbmRleCIsImxlbiIsIndhc1ByZXNzZWQiLCJ2IiwiTWF0aCIsImFicyIsIk1vdXNlIiwiS2V5Ym9hcmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFrQkEsTUFBTUEsVUFBVSxDQUFDO0FBZWJDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBTyxFQUFFQyxPQUFPLEdBQUcsRUFBRSxFQUFFO0FBQy9CLElBQUEsSUFBSSxDQUFDQyxTQUFTLEdBQUdELE9BQU8sQ0FBQ0UsUUFBUSxJQUFJLElBQUksQ0FBQTtBQUN6QyxJQUFBLElBQUksQ0FBQ0MsTUFBTSxHQUFHSCxPQUFPLENBQUNJLEtBQUssSUFBSSxJQUFJLENBQUE7QUFDbkMsSUFBQSxJQUFJLENBQUNDLFNBQVMsR0FBR0wsT0FBTyxDQUFDTSxRQUFRLElBQUksSUFBSSxDQUFBO0lBRXpDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUksQ0FBQTtBQUVwQixJQUFBLElBQUksQ0FBQ0MsUUFBUSxHQUFHLEVBQUUsQ0FBQTtBQUNsQixJQUFBLElBQUksQ0FBQ0MsS0FBSyxHQUFHLEVBQUUsQ0FB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
