/**
 * @license
 * PlayCanvas Engine v1.58.0 revision 6672f604c (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { isDefined } from './core.js';

const path = {
  delimiter: '/',
  join: function () {
    const num = arguments.length;
    let result = arguments[0];
    for (let index = 0; index < num - 1; ++index) {
      const one = arguments[index];
      const two = arguments[index + 1];
      if (!isDefined(one) || !isDefined(two)) {
        throw new Error('undefined argument to pc.path.join');
      }
      if (two[0] === path.delimiter) {
        result = two;
        continue;
      }
      if (one && two && one[one.length - 1] !== path.delimiter && two[0] !== path.delimiter) {
        result += path.delimiter + two;
      } else {
        result += two;
      }
    }
    return result;
  },
  normalize: function (pathname) {
    const lead = pathname.startsWith(path.delimiter);
    const trail = pathname.endsWith(path.delimiter);
    const parts = pathname.split('/');
    let result = '';
    let cleaned = [];
    for (let i = 0; i < parts.length; i++) {
      if (parts[i] === '') continue;
      if (parts[i] === '.') continue;
      if (parts[i] === '..' && cleaned.length > 0) {
        cleaned = cleaned.slice(0, cleaned.length - 2);
        continue;
      }
      if (i > 0) cleaned.push(path.delimiter);
      cleaned.push(parts[i]);
    }
    result = cleaned.join('');
    if (!lead && result[0] === path.delimiter) {
      result = result.slice(1);
    }
    if (trail && result[result.length - 1] !== path.delimiter) {
      result += path.delimiter;
    }
    return result;
  },
  split: function (pathname) {
    const parts = pathname.split(path.delimiter);
    const tail = parts.slice(parts.length - 1)[0];
    const head = parts.slice(0, parts.length - 1).join(path.delimiter);
    return [head, tail];
  },
  getBasename: function (pathname) {
    return path.split(pathname)[1];
  },
  getDirectory: function (pathname) {
    const parts = pathname.split(path.delimiter);
    return parts.slice(0, parts.length - 1).join(path.delimiter);
  },
  getExtension: function (pathname) {
    const ext = pathname.split('?')[0].split('.').pop();
    if (ext !== pathname) {
      return '.' + ext;
    }
    return '';
  },
  isRelativePath: function (pathname) {
    return pathname.charAt(0) !== '/' && pathname.match(/:\/\//) === null;
  },
  extractPath: function (pathname) {
    let result = '';
    const parts = pathname.split('/');
    let i = 0;
    if (parts.length > 1) {
      if (path.isRelativePath(pathname)) {
        if (parts[0] === '.') {
          for (i = 0; i < parts.length - 1; ++i) {
            result += i === 0 ? parts[i] : '/' + parts[i];
          }
        } else if (parts[0] === '..') {
          for (i = 0; i < parts.length - 1; ++i) {
            result += i === 0 ? parts[i] : '/' + parts[i];
          }
        } else {
          result = '.';
          for (i = 0; i < parts.length - 1; ++i) {
            result += '/' + parts[i];
          }
        }
      } else {
        for (i = 0; i < parts.length - 1; ++i) {
          result += i === 0 ? parts[i] : '/' + parts[i];
        }
      }
    }
    return result;
  }
};

export { path };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0aC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvcmUvcGF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICcuL2NvcmUuanMnO1xuXG4vKipcbiAqIEZpbGUgcGF0aCBBUEkuXG4gKlxuICogQG5hbWVzcGFjZVxuICovXG5jb25zdCBwYXRoID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGFyYWN0ZXIgdGhhdCBzZXBhcmF0ZXMgcGF0aCBzZWdtZW50cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgZGVsaW1pdGVyOiAnLycsXG5cbiAgICAvKipcbiAgICAgKiBKb2luIHR3byBvciBtb3JlIHNlY3Rpb25zIG9mIGZpbGUgcGF0aCB0b2dldGhlciwgaW5zZXJ0aW5nIGEgZGVsaW1pdGVyIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBzZWN0aW9uIC0gU2VjdGlvbiBvZiBwYXRoIHRvIGpvaW4uIDIgb3IgbW9yZSBjYW4gYmUgcHJvdmlkZWQgYXMgcGFyYW1ldGVycy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgam9pbmVkIGZpbGUgcGF0aC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwYXRoID0gcGMucGF0aC5qb2luKCdmb28nLCAnYmFyJyk7XG4gICAgICogY29uc29sZS5sb2cocGF0aCk7IC8vIFByaW50cyAnZm9vL2JhcidcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwYXRoID0gcGMucGF0aC5qb2luKCdhbHBoYScsICdiZXRhJywgJ2dhbW1hJyk7XG4gICAgICogY29uc29sZS5sb2cocGF0aCk7IC8vIFByaW50cyAnYWxwaGEvYmV0YS9nYW1tYSdcbiAgICAgKi9cbiAgICBqb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCByZXN1bHQgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bSAtIDE7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0d28gPSBhcmd1bWVudHNbaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKG9uZSkgfHwgIWlzRGVmaW5lZCh0d28pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmRlZmluZWQgYXJndW1lbnQgdG8gcGMucGF0aC5qb2luJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHdvWzBdID09PSBwYXRoLmRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHR3bztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9uZSAmJiB0d28gJiYgb25lW29uZS5sZW5ndGggLSAxXSAhPT0gcGF0aC5kZWxpbWl0ZXIgJiYgdHdvWzBdICE9PSBwYXRoLmRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAocGF0aC5kZWxpbWl0ZXIgKyB0d28pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gKHR3byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIHBhdGggYnkgcmVtb3ZpbmcgJy4nIGFuZCAnLi4nIGluc3RhbmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAtIFRoZSBwYXRoIHRvIG5vcm1hbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbm9ybWFsaXplZCBwYXRoLlxuICAgICAqL1xuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIGNvbnN0IGxlYWQgPSBwYXRobmFtZS5zdGFydHNXaXRoKHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgY29uc3QgdHJhaWwgPSBwYXRobmFtZS5lbmRzV2l0aChwYXRoLmRlbGltaXRlcik7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXRobmFtZS5zcGxpdCgnLycpO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgICAgICBsZXQgY2xlYW5lZCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gJycpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSAnLicpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSAnLi4nICYmIGNsZWFuZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNsZWFuZWQgPSBjbGVhbmVkLnNsaWNlKDAsIGNsZWFuZWQubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpID4gMCkgY2xlYW5lZC5wdXNoKHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgICAgIGNsZWFuZWQucHVzaChwYXJ0c1tpXSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlc3VsdCA9IGNsZWFuZWQuam9pbignJyk7XG4gICAgICAgIGlmICghbGVhZCAmJiByZXN1bHRbMF0gPT09IHBhdGguZGVsaW1pdGVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhaWwgJiYgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSAhPT0gcGF0aC5kZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBwYXRoLmRlbGltaXRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHRoZSBwYXRobmFtZSBwYXRoIGludG8gYSBwYWlyIFtoZWFkLCB0YWlsXSB3aGVyZSB0YWlsIGlzIHRoZSBmaW5hbCBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICogYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGFuZCBoZWFkIGlzIGV2ZXJ5dGhpbmcgbGVhZGluZyB1cCB0byB0aGF0LiB0YWlsIHdpbGwgbmV2ZXIgY29udGFpblxuICAgICAqIGEgc2xhc2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBzcGxpdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IFRoZSBzcGxpdCBwYXRoIHdoaWNoIGlzIGFuIGFycmF5IG9mIHR3byBzdHJpbmdzLCB0aGUgcGF0aCBhbmQgdGhlXG4gICAgICogZmlsZW5hbWUuXG4gICAgICovXG4gICAgc3BsaXQ6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgY29uc3QgdGFpbCA9IHBhcnRzLnNsaWNlKHBhcnRzLmxlbmd0aCAtIDEpWzBdO1xuICAgICAgICBjb25zdCBoZWFkID0gcGFydHMuc2xpY2UoMCwgcGFydHMubGVuZ3RoIC0gMSkuam9pbihwYXRoLmRlbGltaXRlcik7XG4gICAgICAgIHJldHVybiBbaGVhZCwgdGFpbF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGguIFRoYXQgaXMgdGhlIHNlY29uZCBlbGVtZW50IG9mIHRoZSBwYWlyIHJldHVybmVkIGJ5IHBhc3NpbmdcbiAgICAgKiBwYXRoIGludG8ge0BsaW5rIHBhdGguc3BsaXR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lIC0gVGhlIHBhdGggdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYmFzZW5hbWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmdldEJhc2VuYW1lKFwiL3BhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgXCJmaWxlLnR4dFwiXG4gICAgICogcGMucGF0aC5nZXRCYXNlbmFtZShcIi9wYXRoL3RvL2RpclwiKTsgLy8gcmV0dXJucyBcImRpclwiXG4gICAgICovXG4gICAgZ2V0QmFzZW5hbWU6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aC5zcGxpdChwYXRobmFtZSlbMV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0b3J5IG5hbWUgZnJvbSB0aGUgcGF0aC4gVGhpcyBpcyBldmVyeXRoaW5nIHVwIHRvIHRoZSBmaW5hbCBpbnN0YW5jZSBvZlxuICAgICAqIHtAbGluayBwYXRoLmRlbGltaXRlcn0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBnZXQgdGhlIGRpcmVjdG9yeSBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkaXJlY3RvcnkgcGFydCBvZiB0aGUgcGF0aC5cbiAgICAgKi9cbiAgICBnZXREaXJlY3Rvcnk6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLnNsaWNlKDAsIHBhcnRzLmxlbmd0aCAtIDEpLmpvaW4ocGF0aC5kZWxpbWl0ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGV4dGVuc2lvbiBvZiB0aGUgcGF0aC4gUG9wIHRoZSBsYXN0IHZhbHVlIG9mIGEgbGlzdCBhZnRlciBwYXRoIGlzIHNwbGl0IGJ5XG4gICAgICogcXVlc3Rpb24gbWFyayBhbmQgY29tbWEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmdldEV4dGVuc2lvbihcIi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAvLyByZXR1cm5zIFwiLnR4dFwiXG4gICAgICogcGMucGF0aC5nZXRFeHRlbnNpb24oXCIvcGF0aC90by9maWxlLmpwZ1wiKTsgLy8gcmV0dXJucyBcIi5qcGdcIlxuICAgICAqIHBjLnBhdGguZ2V0RXh0ZW5zaW9uKFwiL3BhdGgvdG8vZmlsZS50eHQ/ZnVuY3Rpb249Z2V0RXh0ZW5zaW9uXCIpOyAvLyByZXR1cm5zIFwiLnR4dFwiXG4gICAgICovXG4gICAgZ2V0RXh0ZW5zaW9uOiBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ID0gcGF0aG5hbWUuc3BsaXQoJz8nKVswXS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICBpZiAoZXh0ICE9PSBwYXRobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICcuJyArIGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc3RyaW5nIHMgaXMgcmVsYXRpdmUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAtIFRoZSBwYXRoIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgcyBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2ggYW5kIGRvZXNuJ3QgaW5jbHVkZSBjb2xvbiBhbmQgZG91YmxlXG4gICAgICogc2xhc2guXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCJmaWxlLnR4dFwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogcGMucGF0aC5pc1JlbGF0aXZlUGF0aChcInBhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCIuL3BhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCIuLi9wYXRoL3RvL2ZpbGUuanBnXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiBwYy5wYXRoLmlzUmVsYXRpdmVQYXRoKFwiL3BhdGgvdG8vZmlsZS5qcGdcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiBwYy5wYXRoLmlzUmVsYXRpdmVQYXRoKFwiaHR0cDovL3BhdGgvdG8vZmlsZS5qcGdcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKi9cbiAgICBpc1JlbGF0aXZlUGF0aDogZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJyAmJiBwYXRobmFtZS5tYXRjaCgvOlxcL1xcLy8pID09PSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBhdGggd2l0aG91dCBmaWxlIG5hbWUuIElmIHBhdGggaXMgcmVsYXRpdmUgcGF0aCwgc3RhcnQgd2l0aCBwZXJpb2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgZnVsbCBwYXRoIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHBhdGggd2l0aG91dCBhIGxhc3QgZWxlbWVudCBmcm9tIGxpc3Qgc3BsaXQgYnkgc2xhc2guXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmV4dHJhY3RQYXRoKFwicGF0aC90by9maWxlLnR4dFwiKTsgICAgLy8gcmV0dXJucyBcIi4vcGF0aC90b1wiXG4gICAgICogcGMucGF0aC5leHRyYWN0UGF0aChcIi4vcGF0aC90by9maWxlLnR4dFwiKTsgIC8vIHJldHVybnMgXCIuL3BhdGgvdG9cIlxuICAgICAqIHBjLnBhdGguZXh0cmFjdFBhdGgoXCIuLi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAvLyByZXR1cm5zIFwiLi4vcGF0aC90b1wiXG4gICAgICogcGMucGF0aC5leHRyYWN0UGF0aChcIi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAgIC8vIHJldHVybnMgXCIvcGF0aC90b1wiXG4gICAgICovXG4gICAgZXh0cmFjdFBhdGg6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAocGF0aC5pc1JlbGF0aXZlUGF0aChwYXRobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gKGkgPT09IDApID8gcGFydHNbaV0gOiAnLycgKyBwYXJ0c1tpXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1swXSA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gKGkgPT09IDApID8gcGFydHNbaV0gOiAnLycgKyBwYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICcuJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcvJyArIHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAoaSA9PT0gMCkgPyBwYXJ0c1tpXSA6ICcvJyArIHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IHBhdGggfTtcbiJdLCJuYW1lcyI6WyJwYXRoIiwiZGVsaW1pdGVyIiwiam9pbiIsIm51bSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlc3VsdCIsImluZGV4Iiwib25lIiwidHdvIiwiaXNEZWZpbmVkIiwiRXJyb3IiLCJub3JtYWxpemUiLCJwYXRobmFtZSIsImxlYWQiLCJzdGFydHNXaXRoIiwidHJhaWwiLCJlbmRzV2l0aCIsInBhcnRzIiwic3BsaXQiLCJjbGVhbmVkIiwiaSIsInNsaWNlIiwicHVzaCIsInRhaWwiLCJoZWFkIiwiZ2V0QmFzZW5hbWUiLCJnZXREaXJlY3RvcnkiLCJnZXRFeHRlbnNpb24iLCJleHQiLCJwb3AiLCJpc1JlbGF0aXZlUGF0aCIsImNoYXJBdCIsIm1hdGNoIiwiZXh0cmFjdFBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFPQSxNQUFNQSxJQUFJLEdBQUc7QUFNVEMsRUFBQUEsU0FBUyxFQUFFLEdBQUc7QUFjZEMsRUFBQUEsSUFBSSxFQUFFLFlBQVk7QUFDZCxJQUFBLE1BQU1DLEdBQUcsR0FB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
