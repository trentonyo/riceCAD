/**
 * @license
 * PlayCanvas Engine v1.58.0 revision 6672f604c (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { FONT_MSDF } from './constants.js';

class Font {
  constructor(textures, data) {
    this.type = data ? data.type || FONT_MSDF : FONT_MSDF;
    this.em = 1;

    this.textures = textures;

    this.intensity = 0.0;

    this._data = null;
    this.data = data;
  }
  set data(value) {
    this._data = value;
    if (!value) return;
    if (this._data.intensity !== undefined) {
      this.intensity = this._data.intensity;
    }
    if (!this._data.info) this._data.info = {};

    if (!this._data.version || this._data.version < 2) {
      this._data.info.maps = [{
        width: this._data.info.width,
        height: this._data.info.height
      }];
      if (this._data.chars) {
        for (const key in this._data.chars) {
          this._data.chars[key].map = 0;
        }
      }
    }
  }
  get data() {
    return this._data;
  }
}

export { Font };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9udC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay9mb250L2ZvbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRk9OVF9NU0RGIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdGV4dHVyZS5qcycpLlRleHR1cmV9IFRleHR1cmUgKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSByZXNvdXJjZSBvZiBhIGZvbnQgYXNzZXQuXG4gKi9cbmNsYXNzIEZvbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBGb250IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXh0dXJlW119IHRleHR1cmVzIC0gVGhlIGZvbnQgdGV4dHVyZXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBUaGUgZm9udCBkYXRhLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVzLCBkYXRhKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEgPyBkYXRhLnR5cGUgfHwgRk9OVF9NU0RGIDogRk9OVF9NU0RGO1xuXG4gICAgICAgIHRoaXMuZW0gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB0ZXh0dXJlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1RleHR1cmVbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgaW50ZW5zaXR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSAwLjA7XG5cbiAgICAgICAgLy8ganNvbiBkYXRhXG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIHNldCBkYXRhKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB2YWx1ZTtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fZGF0YS5pbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlbnNpdHkgPSB0aGlzLl9kYXRhLmludGVuc2l0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fZGF0YS5pbmZvKVxuICAgICAgICAgICAgdGhpcy5fZGF0YS5pbmZvID0ge307XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBtaWdyYXRlIHRvIHZlcnNpb24gMlxuICAgICAgICBpZiAoIXRoaXMuX2RhdGEudmVyc2lvbiB8fCB0aGlzLl9kYXRhLnZlcnNpb24gPCAyKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhLmluZm8ubWFwcyA9IFt7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuX2RhdGEuaW5mby53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX2RhdGEuaW5mby5oZWlnaHRcbiAgICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZGF0YS5jaGFycykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX2RhdGEuY2hhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YS5jaGFyc1trZXldLm1hcCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRm9udCB9O1xuIl0sIm5hbWVzIjpbIkZvbnQiLCJjb25zdHJ1Y3RvciIsInRleHR1cmVzIiwiZGF0YSIsInR5cGUiLCJGT05UX01TREYiLCJlbSIsImludGVuc2l0eSIsIl9kYXRhIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJpbmZvIiwidmVyc2lvbiIsIm1hcHMiLCJ3aWR0aCIsImhlaWdodCIsImNoYXJzIiwia2V5IiwibWFwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0EsTUFBTUEsSUFBSSxDQUFDO0FBT1BDLEVBQUFBLFdBQVcsQ0FBQ0MsUUFBUSxFQUFFQyxJQUFJLEVBQUU7SUFDeEIsSUFBSSxDQUFDQyxJQUFJLEdBQUdELElBQUksR0FBR0EsSUFBSSxDQUFDQyxJQUFJLElBQUlDLFNBQVMsR0FBR0EsU0FBUyxDQUFBO0lBRXJELElBQUksQ0FBQ0MsRUFBRSxHQUFHLENBQUMsQ0FBQTs7SUFPWCxJQUFJLENBQUNKLFFBQVEsR0FBR0EsUUFBUSxDQUFBOztJQU94QixJQUFJLENBQUNLLFNBQVMsR0FBRyxHQUFHLENBQUE7O0lBR3BCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLElBQUksQ0FBQTtJQUNqQixJQUFJLENBQUNMLElBQUksR0FBR0EsSUFBSSxDQUFBO0FBQ3BCLEdBQUE7RUFFQSxJQUFJQSxJQUFJLENBQUNNLEtBQUssRUFBRTtJQUNaLElBQUksQ0FBQ0QsS0FBSyxHQUFHQyxLQUFLLENBQUE7SUFDbEIsSUFBSSxDQUFDQSxLQUFLLEVBQ04sT0FBQTtBQUVKLElBQUEsSUFBSSxJQUFJLENBQUNELEtBQUssQ0FBQ0QsU0FBUyxLQUFLRyxTQUFTLEVBQUU7QUFDcEMsTUFBQSxJQUFJLENBQUNILFNBQVMsR0FBRyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsU0FBUyxDQUFBO0FBQ3pDLEtBQUE7QUFFQSxJQUFBLElBQUksQ0FBQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0csSUFBSSxFQUNoQixJQUFJLENBQUNILEtBQUssQ0FBQ0csSUFBSSxHQUFHLEVBQUUsQ0FBQTs7QUFHeEIsSUFBQSxJQUFJLENBQUMsSUFBSSxDQUFDSCxLQUFLLENBQUNJLE9BQU8sSUFBSSxJQUFJLENBQUNKLEtBQUssQ0FBQ0ksT0FBTyxHQUFHLENBQUMsRUFBRTtBQUMvQyxNQUFBLElBQUksQ0FBQ0osS0FBSyxDQUFDRyxJQUFJLENBQUNFLElBQUksR0FBRyxDQUFDO0FBQ3BCQyxRQUFBQSxLQUFLLEVBQUUsSUFBSSxDQUFDTixLQUFLLENBQUNHLElBQUksQ0FBQ0csS0FBSztBQUM1QkMsUUFBQUEsTUFBTSxFQUFFLElBQUksQ0FBQ1AsS0FBSyxDQUFDRyxJQUFJLENBQUNJLE1BQUFBO0FBQzVCLE9BQUMsQ0FBQyxDQUFBO0FBRUYsTUFBQSxJQUFJLElBQUksQ0FBQ1AsS0FBSyxDQUFDUSxLQUFLLEVBQUU7UUFDbEIsS0FBSyxNQUFNQyxHQUFHLElBQUksSUFBSSxDQUFDVCxLQUFLLENBQUNRLEtBQUssRUFBRTtVQUNoQyxJQUFJLENBQUNSLEtBQUssQ0FBQ1EsS0FBSyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsR0FBRyxHQUFHLENBQUMsQ0FBQTtBQUNqQyxTQUFBO0FBQ0osT0FBQTtBQUNKLEtBQUE7QUFDSixHQUFBO0FBRUEsRUFBQSxJQUFJZixJQUFJLEdBQUc7SUFDUCxPQUFPLElBQUksQ0FBQ0ssS0FBSyxDQUFBO0FBQ3JCLEdBQUE7QUFDSjs7OzsifQ==
