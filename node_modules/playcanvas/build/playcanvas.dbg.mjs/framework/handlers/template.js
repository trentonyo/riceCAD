/**
 * @license
 * PlayCanvas Engine v1.58.0 revision 6672f604c (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { http } from '../../platform/net/http.js';
import { Template } from '../template.js';

class TemplateHandler {

  constructor(app) {
    this.handlerType = "template";
    this._app = app;
    this.maxRetries = 0;
  }
  load(url, callback) {
    if (typeof url === 'string') {
      url = {
        load: url,
        original: url
      };
    }

    const options = {
      retry: this.maxRetries > 0,
      maxRetries: this.maxRetries
    };
    http.get(url.load, options, function (err, response) {
      if (err) {
        callback('Error requesting template: ' + url.original);
      } else {
        callback(err, response);
      }
    });
  }
  open(url, data) {
    return new Template(this._app, data);
  }
}

export { TemplateHandler };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mcmFtZXdvcmsvaGFuZGxlcnMvdGVtcGxhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaHR0cCB9IGZyb20gJy4uLy4uL3BsYXRmb3JtL25ldC9odHRwLmpzJztcblxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tICcuLi8uLi9mcmFtZXdvcmsvdGVtcGxhdGUuanMnO1xuXG5jbGFzcyBUZW1wbGF0ZUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIHJlc291cmNlIHRoZSBoYW5kbGVyIGhhbmRsZXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGhhbmRsZXJUeXBlID0gXCJ0ZW1wbGF0ZVwiO1xuXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHRoaXMuX2FwcCA9IGFwcDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gMDtcbiAgICB9XG5cbiAgICBsb2FkKHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB1cmwgPSB7XG4gICAgICAgICAgICAgICAgbG9hZDogdXJsLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsOiB1cmxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHNwZWNpZnkgSlNPTiBmb3IgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXRyeTogdGhpcy5tYXhSZXRyaWVzID4gMCxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IHRoaXMubWF4UmV0cmllc1xuICAgICAgICB9O1xuXG4gICAgICAgIGh0dHAuZ2V0KHVybC5sb2FkLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCdFcnJvciByZXF1ZXN0aW5nIHRlbXBsYXRlOiAnICsgdXJsLm9yaWdpbmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9wZW4odXJsLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGUodGhpcy5fYXBwLCBkYXRhKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFRlbXBsYXRlSGFuZGxlciB9O1xuIl0sIm5hbWVzIjpbIlRlbXBsYXRlSGFuZGxlciIsImNvbnN0cnVjdG9yIiwiYXBwIiwiaGFuZGxlclR5cGUiLCJfYXBwIiwibWF4UmV0cmllcyIsImxvYWQiLCJ1cmwiLCJjYWxsYmFjayIsIm9yaWdpbmFsIiwib3B0aW9ucyIsInJldHJ5IiwiaHR0cCIsImdldCIsImVyciIsInJlc3BvbnNlIiwib3BlbiIsImRhdGEiLCJUZW1wbGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJQSxNQUFNQSxlQUFlLENBQUM7O0VBUWxCQyxXQUFXLENBQUNDLEdBQUcsRUFBRTtJQUFBLElBRmpCQyxDQUFBQSxXQUFXLEdBQUcsVUFBVSxDQUFBO0lBR3BCLElBQUksQ0FBQ0MsSUFBSSxHQUFHRixHQUFHLENBQUE7SUFDZixJQUFJLENBQUNHLFVBQVUsR0FBRyxDQUFDLENBQUE7QUFDdkIsR0FBQTtBQUVBQyxFQUFBQSxJQUFJLENBQUNDLEdBQUcsRUFBRUMsUUFBUSxFQUFFO0FBQ2hCLElBQUEsSUFBSSxPQUFPRCxHQUFHLEtBQUssUUFBUSxFQUFFO0FBQ3pCQSxNQUFBQSxHQUFHLEdBQUc7QUFDRkQsUUFBQUEsSUFBSSxFQUFFQyxHQUFHO0FBQ1RFLFFBQUFBLFFBQVEsRUFBRUYsR0FBQUE7T0FDYixDQUFBO0FBQ0wsS0FBQTs7QUFHQSxJQUFBLE1BQU1HLE9BQU8sR0FBRztBQUNaQyxNQUFBQSxLQUFLLEVBQUUsSUFBSSxDQUFDTixVQUFVLEdBQUcsQ0FBQztNQUMxQkEsVUFBVSxFQUFFLElBQUksQ0FBQ0EsVUFBQUE7S0FDcEIsQ0FBQTtBQUVETyxJQUFBQSxJQUFJLENBQUNDLEdBQUcsQ0FBQ04sR0FBRyxDQUFDRCxJQUFJLEVBQUVJLE9BQU8sRUFBRSxVQUFVSSxHQUFHLEVBQUVDLFFBQVEsRUFBRTtBQUNqRCxNQUFBLElBQUlELEdBQUcsRUFBRTtBQUNMTixRQUFBQSxRQUFRLENBQUMsNkJBQTZCLEdBQUdELEdBQUcsQ0FBQ0UsUUFBUSxDQUFDLENBQUE7QUFDMUQsT0FBQyxNQUFNO0FBQ0hELFFBQUFBLFFBQVEsQ0FBQ00sR0FBRyxFQUFFQyxRQUFRLENBQUMsQ0FBQTtBQUMzQixPQUFBO0FBQ0osS0FBQyxDQUFDLENBQUE7QUFDTixHQUFBO0FBRUFDLEVBQUFBLElBQUksQ0FBQ1QsR0FBRyxFQUFFVSxJQUFJLEVBQUU7SUFDWixPQUFPLElBQUlDLFFBQVEsQ0FBQyxJQUFJLENBQUNkLElBQUksRUFBRWEsSUFBSSxDQUFDLENBQUE7QUFDeEMsR0FBQTtBQUNKOzs7OyJ9
